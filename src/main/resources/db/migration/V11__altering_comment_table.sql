CREATE TABLE lab_course.comments
(
    id               BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    course_id        BIGINT,
    text             VARCHAR(255),
    created_by       BIGINT,
    rating           DECIMAL,
    date_time_create TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_comments PRIMARY KEY (id)
);

ALTER TABLE lab_course.comments
    ADD CONSTRAINT FK_COMMENTS_ON_COURSE FOREIGN KEY (course_id) REFERENCES lab_course.courses (id) ON DELETE CASCADE;

ALTER TABLE lab_course.comments
    ADD CONSTRAINT FK_COMMENTS_ON_CREATED_BY FOREIGN KEY (created_by) REFERENCES lab_course.users (id) ON DELETE CASCADE;
